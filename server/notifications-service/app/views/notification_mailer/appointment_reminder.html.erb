<!DOCTYPE html>
<html>
<head>
  <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background-color: #ff9800; color: white; padding: 20px; text-align: center; }
    .content { padding: 30px 20px; background-color: #f9f9f9; }
    .reminder-box { background-color: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ff9800; }
    .appointment-details { background-color: white; padding: 20px; border-radius: 8px; margin: 20px 0; }
    .footer { padding: 20px; text-align: center; font-size: 12px; color: #666; }
    .label { font-weight: bold; color: #555; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Appointment Reminder</h1>
    </div>
    <div class="content">
      <p>Hello <%= @user_name %>,</p>

      <div class="reminder-box">
        <h3>Don't forget!</h3>
        <p><%= @notification.message %></p>
      </div>

      <div class="appointment-details">
        <h3>Appointment Details</h3>
        <% if @appointment_date %>
          <p><span class="label">Date & Time:</span> <%= Time.parse(@appointment_date).strftime("%B %d, %Y at %I:%M %p") rescue @appointment_date %></p>
        <% end %>
        <% if @notification.data["doctor_name"] %>
          <p><span class="label">Doctor:</span> <%= @notification.data["doctor_name"] %></p>
        <% end %>
        <% if @notification.data["consultation_type"] %>
          <p><span class="label">Type:</span> <%= @notification.data["consultation_type"].titleize %></p>
        <% end %>
      </div>

      <p>Please arrive 10 minutes before your scheduled time. Have your medical records and insurance information ready.</p>

      <p>Best regards,<br>The MediConnect Team</p>
    </div>
    <div class="footer">
      <p>&copy; 2024 MediConnect. All rights reserved.</p>
    </div>
  </div>
</body>
</html>
